//// GENERAL STYLES

//// GENERAL STYLES
body {
  font-size: 1.1rem;
}

.entry-content {
  font-size: 1.2rem;
}
/// Control content area margins
.content-area + .cta {
  margin-top: 5rem;
}

.pagination {
  padding-bottom: 30px;
}

/// COLOURS
.bg {
  &-black {
    background-color: $black;
    color: $gray-200;
    h2 {
      color: $white;
    }
    h3 {
      color: $primary;
      font-weight: $headings-font-weight-bold;
    }
  }
}

/// FONTS

.navbar-brand {
  @include media-breakpoint-up(xs) {
    max-width: 180px;
  }
  @include media-breakpoint-up(sm) {
    max-width: 220px;
  }
  @include media-breakpoint-up(md) {
    max-width: 280px;
  }
  .navbar-dark & {
    a {
      color: $white;
      font-family: $headings-font-family;
      font-weight: 700;
    }
  }
}

.text-xs {
  h1 {
    @include font-size(1.4rem);
  }
  h2 {
    @include font-size(1.2rem);
  }
  h3 {
    @include font-size(1.1rem);
  }
  h4 {
    @include font-size(1rem);
  }
  p, li {
    @include font-size(1rem);
  }
  i.fa,
  i.fas,
  i.fab,
  i.far,
  i.fad,
  i.fal {
    @include font-size(1.4rem);
  }
}
.text-sm {
  h1 {
    @include font-size(2rem);
  }
  h2 {
    @include font-size(1.8rem);
  }
  h3 {
    @include font-size(1.6rem);
  }
  h4 {
    @include font-size(1.4rem);
  }
  p, li {
    @include font-size(1.2rem);
  }
  i.fa,
  i.fas,
  i.fab,
  i.far,
  i.fad,
  i.fal {
    @include font-size(2rem);
  }
}
.text-md {
  h1 {
    @include font-size(2.5rem);
  }
  h2 {
    @include font-size(2.2rem);
  }
  h3 {
    @include font-size(1.8rem);
  }
  h4 {
    @include font-size(1.6rem);
  }
  p, li {
    @include font-size(1.4rem);
  }
  i.fa,
  i.fas,
  i.fab,
  i.far,
  i.fad,
  i.fal {
    @include font-size(2.5rem);
  }
}
.text-lg {
  h1 {
    //@include font-size(3.5rem);
    @include media-breakpoint-up(md){
      @include font-size(3.5rem);
    }
    @include media-breakpoint-up(xs){
      @include font-size(2.5rem);
    }
  }
  h2 {
    @include font-size(3rem);
  }
  h3 {
    @include font-size(2.5rem);
  }
  h4 {
    @include font-size(2.2rem);
  }
  p, li {
    @include font-size(1.8rem);
  }
  i.fa,
  i.fas,
  i.fab,
  i.far,
  i.fad,
  i.fal {
    @include font-size(3.5rem);
  }
}
.text-xl {
  h1 {
    @include font-size(5rem);
  }
  h2 {
    @include font-size(4rem);
  }
  h3 {
    @include font-size(3rem);
  }
  h4 {
    @include font-size(2.8rem);
  }
  p, li {
    @include font-size(2.2rem);
  }
  i.fa,
  i.fas,
  i.fab,
  i.far,
  i.fad,
  i.fal {
    @include font-size(5rem);
  }
}

h1 {
  &.text-xs {
    @include font-size(1.4rem);
  }
  &.text-sm {
    @include font-size(2rem);
  }
  &.text-md {
    @include font-size(2.2rem);
  }
  &.text-lg {
    @include font-size(3.5rem);
  }
  &.text-xl {
    @include font-size(5rem);
  }
}

h2 {
  &.text-xs {
    @include font-size(1.2rem);
  }
  &.text-sm {
    @include font-size(1.8rem);
  }
  &.text-md {
    @include font-size(2.5rem);
  }
  &.text-lg {
    @include font-size(3rem);
  }
  &.text-xl {
    @include font-size(4rem);
  }
}

h3 {
  &.text-xs {
    @include font-size(1.1rem);
  }
  &.text-sm {
    @include font-size(1.6rem);
  }
  &.text-md {
    @include font-size(1.8rem);
  }
  &.text-lg {
    @include font-size(2.5rem);
  }
  &.text-xl {
    @include font-size(3rem);
  }
}

//// MIXINS
// input pixel value unitless: 8 vs 8px
// ex. @include rem(padding, 8 12 16 24)

// Global Vars

$basefontsize: 16 !default;

@mixin rem($property, $px: $basefontsize) {
  $pxvalues: null;
  $remvalues: null;

  @each $pxvalue in $px {
    $pxvalues: append($pxvalues, ($pxvalue) + px);
    $remvalues: append($remvalues, ($pxvalue/$basefontsize) + rem);
  }

  #{$property}: $pxvalues;
  #{$property}: $remvalues;
}

/// DEFAULT MARGINS
.m {
  &-v {
    &__xs {
      margin-top: 8px;
      margin-bottom: 8px;
    }
    &__sm {
      margin-top: 15px;
      margin-bottom: 15px;
    }
    &__md {
      margin-top: 30px;
      margin-bottom: 30px;
    }
    &__lg {
      margin-top: 60px;
      margin-bottom: 60px;
    }
    &__xl {
      margin-top: 90px;
      margin-bottom: 90px;
    }
  }
  &-t {
    &__xs {
      margin-top: 8px;
    }
    &__sm {
      margin-top: 15px;
    }
    &__md {
      margin-top: 30px;
    }
    &__lg {
      margin-top: 60px;
    }
    &__xl {
      margin-top: 90px;
    }
  }
  &-b {
    &__xs {
      margin-bottom: 8px;
    }
    &__sm {
      margin-bottom: 15px;
    }
    &__md {
      margin-bottom: 30px;
    }
    &__lg {
      margin-bottom: 60px;
    }
    &__xl {
      margin-bottom: 90px;
    }
  }
}

//// SEPARATOR COLOURS
.fill {
  &-body {
    //fill: $white;
  }
  &-border {
    fill: $light;
  }
}

/// FIXING STUPID EVEREST BUTTONS
.everest-forms .everest-forms-part-button,
.everest-forms button[type="submit"],
.everest-forms input[type="submit"] {
  &.btn-primary {
    color: $white;
    background-color: $brand-primary;
    border-color: $brand-primary;
    &:hover {
      color: $white;
      background-color: lighten($brand-primary, 10%);
      border-color: lighten($brand-primary, 10%);
    }
  }
  &.btn-success {
    color: $white;
    background-color: $green;
    border-color: $green;
    &:hover {
      color: $white;
      background-color: darken($green, 10%);
      border-color: darken($green, 10%);
    }
  }
}

/// FIX TABS ON MOBILE TO MAKE ACCORDION
.nav-tabs {
  display: none;
}

@include media-breakpoint-up(md) {
  .tabbed-content {
    .nav-tabs {
      display: flex;
    }
  
    .card {
      border: none;
    }
  
    .card .card-header {
      display: none;
    }
  
    .card .collapse {
      display: block;
    }
  }
}

@include media-breakpoint-down(sm) {
  .tab-content > .tab-pane {
    display: block !important;
    opacity: 1;
  }
}


/// SETUP STANDARD IMAGE BLOCKS {
.image-box {
  background-position: center center;
  background-repeat: no-repeat;
  background-size: cover;
  //box-shadow: 6px 6px 0 $dark;
  position: relative;
  &__content {
    position: relative;
    z-index: 100;
    h4 {
      @include font-size(1.3rem);
      margin-bottom: 0;
    }
  }
  &__inner {
    align-items: center;
    cursor: hand;
    display: flex;
    height: 100%;
    justify-content: center;
    left: 0;
    opacity: 1;
    overflow: hidden;
    padding: 15px;
    position: absolute;
    top: 0;
    transition: 0.3s ease all;
    width: 100%;
    &-overlay {
      transition: 0.3s ease all;
    }
    &-icon {
      bottom: 0;
      right: 0;
      z-index: 50;
      transition: 0.3s ease all;
    }
    span {
      position: relative;
      z-index: 100;
    }
  }
  &.hasOverlay {
    a {
      transition: 0.3s ease all;
    }
    &:hover,
    a:hover {
      &:before {
        background-color: transparent;
      }
      .image-box__inner-overlay {
        opacity: 100;
        &.hover {
          &-primary {
            background-color: $primary !important;
          }
          &-secondary {
            background-color: $secondary !important;
          }
          &-dark {
            background-color: $dark !important;
          }
          &-light {
            background-color: $light !important;
          }
          &-white {
            background-color: $white !important;
          }
          &-alternate {
            background-color: $alternate !important;
          }
        }
      }
    }
  }
  &.hasOverlay {
    .image-box__inner-overlay {
      transition: 0.3s ease all;
    }
  }
}

// ASPECT RATIOS
.style {
  &-square {
    padding-bottom: 100%;
  }
  &-widescreen {
    padding-bottom: 56.25%;
  }
  &-traditional {
    padding-bottom: 75%;
  }
  &-narrow {
    padding-bottom: 35%;
  }
}


/// OVERLAYS
.isOverlay {
  top: 0;
  left: 0;
}

.overlay {
  &-primary {
    background-color: $primary;
  }
  &-secondary {
    background-color: $secondary;
  }
  &-dark {
    background-color: $dark;
  }
  &-light {
    background-color: $light;
  }
  &-white {
    background-color: $white;
  }
  &-alternate {
    background-color: $alternate;
  }
  &-transparent {
    background-color: none;
  }
}

.top {
  &-0 {
    top: 0;
  }
  &--1 {
    top: -1px;
  }
}

/// SVG FILLS
.fill-primary {
  fill: $primary;
}
.fill-secondary {
  fill: $secondary;
}
.fill-dark {
  fill: $dark;
}
.fill-white {
  fill: $white;
}
.fill-light {
  fill: $light;
}
.fill-alternate {
  fill: $alternate;
}

.fill-none {
  fill: none;
}

.stroke {
  &-primary {
    stroke: $primary;
  }
  &-secondary {
    stroke: $secondary;
  }
  &-dark {
    stroke: $dark;
  }
  &-light {
    stroke: $light;
  }
  &-white {
    stroke: $white;
  }
  &-alternate {
    stroke: $alternate;
  }
  &-none {
    stroke: none;
  }
}

/// OPACITIES
.opacity {
  &-95 {
    opacity: 0.95;
  }
  &-90 {
    opacity: 0.90;
  }
  &-85 {
    opacity: 0.85;
  }
  &-80 {
    opacity: 0.8;
  }
  &-75 {
    opacity: 0.75;
  }
  &-70 {
    opacity: 0.70;
  }
  &-65 {
    opacity: 0.65;
  }
  &-60 {
    opacity: 0.60;
  }
  &-55 {
    opacity: 0.55;
  }
  &-50 {
    opacity: 0.5;
  }
  &-45 {
    opacity: 0.45;
  }
  &-40 {
    opacity: 0.40;
  }
  &-35 {
    opacity: 0.35;
  }
  &-30 {
    opacity: 0.30;
  }
  &-25 {
    opacity: 0.25;
  }
  &-20 {
    opacity: 0.20;
  }
  &-15 {
    opacity: 0.15;
  }
  &-10 {
    opacity: 0.10;
  }
  &-05 {
    opacity: 0.05;
  }
}

/// DARKENING HEROS
@mixin hero-darken($property) {
  content: "";
  position: absolute;
  width: 100%;
  top: 0;
  bottom: 0;
  left: 0;
  background-color: rgba($background-dark, $property);
}

@mixin hero-lighten($property) {
  content: "";
  position: absolute;
  width: 100%;
  top: 0;
  bottom: 0;
  left: 0;
  background-color: rgba($white, $property);
}

@mixin hero-primary($property) {
  content: "";
  position: absolute;
  width: 100%;
  top: 0;
  bottom: 0;
  left: 0;
  background-color: rgba($brand-primary, $property);
}

/// ADDITIONAL RESPONSIVE SIZES

.w {
  &-lg {
    &-25 {
      @include media-breakpoint-up(lg){
        max-width: 25%;
      }
    }
    &-50 {
      @include media-breakpoint-up(lg){
        max-width: 50%;
      }
    }
    &-75 {
      @include media-breakpoint-up(lg){
        max-width: 75%;
      }
    }
    &-100 {
      @include media-breakpoint-up(lg){
        max-width: 100%;
      }
    }
  }
}

//// HAMBURGER NAV
.hamburger {
  background-color: transparent;
  border: none;
  cursor: pointer;
  display: flex;
  padding: 0;
  &-icon {
    width: 50px;
  }
  .line {
    fill: none;
    stroke-width: 6;
    transition: stroke-dasharray 600ms cubic-bezier(0.4, 0, 0.2, 1),
    stroke-dashoffset 600ms cubic-bezier(0.4, 0, 0.2, 1);
    &-1 {
      stroke-dasharray: 60 207;
      
    }
    &-2 {
      stroke-dasharray: 60 60;
    }
    &-3 {
      stroke-dasharray: 60 207;
    }
    .navbar.text-primary & {
      stroke: $primary;
    }
    .navbar.text-secondary & {
      stroke: $secondary;
    }
    .navbar.text-dark & {
      stroke: $dark;
    }
    .navbar.text-light & {
      stroke: $light;
    }
    .navbar.text-white & {
      stroke: $white;
    }
    .navbar.text-alternate & {
      stroke: $alternate;
    }
  }
  &.opened {
    .line {
      stroke-width: 6;
      &-1 {
        stroke-dasharray: 90 207;
        stroke-dashoffset: -134;
      }
      &-2 {
        stroke-dasharray: 1 60;
        stroke-dashoffset: -30;
      }
      &-3 {
        stroke-dasharray: 90 207;
        stroke-dashoffset: -134;
      }
    }
  }
}

//// BLOG PAGES
body.blog {
  .type-post {
    .post-list {
      h2.entry-title {
        font-size: 1.4rem;
      }
      .entry-content {
        p,
        p:first-child {
          font-size: 1.1rem;
        }
      }
    }
  }
}
.single-post {
  .content-area .container {
    max-width: 740px;
  }
  .entry-content {
    p {
      color: $dark;
    }
    &__date {
      color: $primary;
      text-transform: uppercase;
      font-size: 0.9rem;
    }
    p#breadcrumbs {
      font-size: 0.9rem;
      margin: 0.5rem 0;
    }
  }
}

/// HERO HEADER ADJUSTMENTS
.hero-header {
  &__wrap {
    h3 {
      font-size: 1.3rem;
      font-weight: 500;
      margin-bottom: 1.6rem;
    }
  }
}

p strong {
  font-weight: $font-weight-bold;
}

/// ICONS & IMAGES IN ROWS WITH PADDING
.social-icons,
.client-logos {
  .d-flex {
    div:first-child {
      padding-left: 0 !important;
    }
    div:last-child {
      padding-right: 0 !important;
    }
  }
}

span.wpcf7-list-item {
  margin: 0.2em 0;
}

.wpcf7 form.sent .wpcf7-response-output {
  border-color: $secondary;
  background-color: $secondary;
  color: $dark;
  font-size: 1.1rem;
  font-weight: 500;
  padding: 1rem;
}

.wpcf7 form.invalid .wpcf7-response-output,
.wpcf7 form.unaccepted .wpcf7-response-output {
  background-color: $red; 
  border: 1px $red solid;
  color: $white;
  padding: 1rem;
}

.happyforms {
  &-form {
    &__title {
      
    }
  }
}


.list-icons {
  &.list-reduce-height {
    .list-icons__main .list-icons__row {
      padding: 10px 30px;
    }
  }
}

/// ICON SIZES
.icon {
  &-xs {
    font-size: 1rem;
  }
  &-sm {
    font-size: 2rem;
  }
  &-md {
    font-size: 3rem;
  }
  &-lg {
    font-size: 4rem;
  }
  &-xl {
    font-size: 5rem;
  }
}


/*
This mixin can be used to set the object-fit:
@include object-fit(contain);

or object-fit and object-position:
@include object-fit(cover, top);
*/
@mixin object-fit($fit: fill, $position: null){
-o-object-fit: $fit;
   object-fit: $fit;
  @if $position {
    -o-object-position: $position;
       object-position: $position;
    font-family: 'object-fit: #{$fit}; object-position: #{$position}';
  } @else {
    font-family: 'object-fit: #{$fit}';
  }
}

.of {
  &-cover {
    object-fit: cover;
    font-family: 'object-fit: cover;';
  }
}

//IE HACKS
@media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {  
  .hero-header {
    height: 1px;
  }
  #main-nav {
    &.notScrolled {
      height: 91px;
    }
    &.navScrolled {
      height: 50px;
    }
  }
}

/// VIDEO PLAYER 
.lty-playbtn {
  border-radius: 50%;
  border: 8px solid $primary;
  width: 140px;
  height: 140px;
  &:before {
    border-width: 31px 0 31px 49px;
    left: 55% !important;
  }
}

lite-youtube {
  background-color: #000;
  position: relative;
  display: block;
  contain: content;
  background-position: center center;
  background-size: cover;
  cursor: pointer;
  //max-width: 720px;
  width: 100%;
}

/* gradient */
lite-youtube::before {
  content: '';
  display: block;
  position: absolute;
  top: 0;
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==);
  background-position: top;
  background-repeat: repeat-x;
  height: 60px;
  padding-bottom: 50px;
  width: 100%;
  transition: all 0.2s cubic-bezier(0, 0, 0.2, 1);
}

/* responsive iframe with a 16:9 aspect ratio
  thanks https://css-tricks.com/responsive-iframes/
*/
lite-youtube::after {
  content: "";
  display: block;
  padding-bottom: calc(100% / (16 / 9));
}
lite-youtube > iframe {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  border: 0;
}

/* play button */
lite-youtube > .lty-playbtn {
  border-radius: 50%;
  border: 8px solid $primary;
  width: 140px;
  height: 140px;
  position: absolute;
  cursor: pointer;
  transform: translate3d(-50%, -50%, 0);
  top: 50%;
  left: 50%;
  z-index: 1;
  background-color: rgba($dark, 0.4);
  /* YT's actual play button svg */
  background-image: url("data:image/svg+xml,%3Csvg height='100px' width='100px' fill='%2300a2e0' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:serif='http://www.serif.com/' viewBox='0 0 64 64' version='1.1' xml:space='preserve' style='' x='0px' y='0px' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='2'%3E%3Cg transform='matrix(1,0,0,1,-320,0)'%3E%3Cg transform='matrix(1,0,0,1,320,7.10543e-15)'%3E%3Crect x='0' y='0' width='64' height='64' style='' fill='none'%3E%3C/rect%3E%3Cg transform='matrix(1.11364,0,0,1.2,-357.5,-6.4)'%3E%3Cpath d='M328.204,46.656C328.204,48.381 329.163,49.985 330.741,50.898C332.318,51.811 334.292,51.905 335.962,51.146C337.096,50.63 361.66,39.465 368.204,36.49C370.051,35.651 371.222,33.909 371.222,32C371.222,30.091 370.051,28.349 368.204,27.51C359.401,23.508 343.98,16.499 335.962,12.854C334.292,12.095 332.318,12.189 330.741,13.102C329.163,14.015 328.204,15.619 328.204,17.344C328.204,23.09 328.204,32.412 328.204,39.941C328.204,40.861 329.009,41.608 330,41.608C330.991,41.608 331.796,40.861 331.796,39.941C331.796,32.412 331.796,23.09 331.796,17.344C331.796,16.769 332.116,16.235 332.641,15.93C333.167,15.626 333.825,15.595 334.382,15.848C342.4,19.492 357.821,26.502 366.624,30.503C367.24,30.783 367.63,31.364 367.63,32C367.63,32.636 367.24,33.217 366.624,33.497C360.081,36.471 335.516,47.637 334.382,48.152C333.825,48.405 333.167,48.374 332.641,48.07C332.116,47.765 331.796,47.231 331.796,46.656C331.796,45.736 330.991,44.989 330,44.989C329.009,44.989 328.204,45.736 328.204,46.656Z'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
  background-position: 67% 50%;
  background-repeat: no-repeat;
  transition: 0.3s ease all;
}

lite-youtube:hover > .lty-playbtn,
lite-youtube .lty-playbtn:focus {
  background-color: $secondary;
  filter: none;
}

/* Post-click styles */
lite-youtube.lyt-activated {
  cursor: unset;
}
lite-youtube.lyt-activated::before,
lite-youtube.lyt-activated > .lty-playbtn {
  opacity: 0;
  pointer-events: none;
}

.lyt-visually-hidden {
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}
